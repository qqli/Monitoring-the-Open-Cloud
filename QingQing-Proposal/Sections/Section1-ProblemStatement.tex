\section{Problem Statement}
\label{sec:ProblemStatement}

%\input{../LatexShared/Section1-Subsection0-Introduction.tex}

%This project will be composed of two phases. The first phase, Data Collection and Retention, will be a platform building phase that collects and stores raw data from the MOC. It will be a shared effort with another master student.  
%The second phase, Data Transformation and Visualization, will first extend the platform by filtering and transforming the raw data collected from the cloud such that a number of query sets can be efficiently performed over the data. We will then exercise and refine the platform by developing an end-user tool that visualizes both the status of the cloud, and the user’s virtual cloud resources. The goal of this tool will be to provide users the kind of information they have to reverse engineer on existing clouds to optimize their applications.
One of the main arguments for utilizing public clouds is it is an environment where developers with innovative ideas can try out their new services without investing in huge amounts of hardware~\cite{Armbrust2009}. However, public cloud providers don't expose the performance characteristics and utilization of the cloud software and hardware components to cloud users and researchers. As a result, developers are often forced to do reverse engineering to discover the characteristics of the cloud and optimize their applications. A good example to this is presented in~\cite{conley2015achieving}, where Conley et al. try to identify the best performing instance type for sorting 100TB of data on Amazon EC2. After evaluating 48 different instance types available, and spending \$50.000 along the way, they identified the best performing instance type. That instance type can sort 100TB of data at a cost of \$300. 

Unfortunately, even the authors of~\cite{conley2015achieving} are not confident that their experiments are repeatable as the utilization of the cloud and the resources they used when they performed these experiments are unknown to them. Our fundamental goal in this project is to expose the kind of information that Conley at al. spent enormous effort and money trying to discern from the outside. 

There are many valid reasons why cloud providers do not want to provide visibility into the performance and utilization characteristics of their cloud infrastructure. First, they want to keep their solutions private due to commercial concerns. Second, sharing details of the underlying cloud infrastructure may lead to security problems. Third, providing information about a user's resources may expose information about other users in the cloud and cause privacy issues. 

Since we plan to implement our monitoring solution on an open cloud setting (MOC), we are not bound by commercial concerns. Since no public cloud vendor has ever exposed the cloud performance characteristic and utilization data to users and researchers, we are facing a new area with challenges such as security issues and privacy issues that have not been studied by researchers. In addtion, it is also challenging to monitor the whole cloud environment, which is composed of seven different layers (facility, network, hardware, OS, middleware, application, and the user~\cite{spring2011monitoring}) with complex interactions between the components and players at these different layers. 

In this project we plan to develop a cloud monitoring and visualization solution that can mediate and display data coming from both the physical and virtual layers of the cloud. We plan to perform these studies on Massachusetts Open Cloud (MOC). As part of this step, we will fist develop a virtual layer monitoring solution, and then combine the outputs of this solution with the outputs of a physical monitoring solution that is being developed for the MOC by another master student. Our fundamental goal for this project is to collect information from all these different layers and retain it so that tools can be developed that can correlate information from all the different sources. For example, a performance tool may need to connect a VM launched by a user to information from cloud middleware about what node the VM was launched on, to information from a hypervisor about what the demands of the VM were. 

We then propose to develop a data transformation and visualization tool that will expose meaningful data to the MOC tenants and cloud researchers. This tool will first extend the monitoring platform by filtering and transforming the raw data collected from the cloud so that a number of query sets can be efficiently performed over the data. The it will exercise and refine the platform by developing an end-user tool that visualizes both the status of the cloud, and the user’s virtual cloud resources. The purpose of this tool is to provide users with the information they have to reverse engineer on existing clouds to optimize their applications.

The research challenges for this project are 1) how to make the platform scalable so as to serve many queries, 2) what kind of queries should we have to ensure privacy while providing valuable information to users, 3) to what extent should we expose the information as to ensure security of the cloud system, and 4) how to relate the data of different cloud layers with each other. 

%Cloud environments are composed of seven layers:facility, network, hardware, OS, middleware, application, and users~\cite{spring2011monitoring}). Understanding the interactions and correlations of different components of the cloud from different layers is complicated; we have not found a single monitoring tool that can collect operational data from all the layers of the cloud. The goal for this phase of the project is to collect virtual resource data from the cloud which can come from the OS, middleware, application and user layers of the cloud and to retain the data so that we can combine it with the physical resource data of the cloud. For example, using a performance tool, we can obtain information about a VM. This information can then be correlated with information obtained from the hypervisor regarding which physical node the VM is running.  This information can then be connected to the information collected from physical layers which shows the status of the physical nodes. 

%The research challenges for this phase are: 
%1) How to collect a large set of operational data from the cloud virtual system which can bring little overhead to the system being monitored. 
%2) How to retain or migrate the data of cloud virtual resources from a temporal database to a long-term database in a scalable manner.
%3) How to optimize the retention for data analysis.

%Although no tool can monitor all layers of the cloud, we have found a set of open source tools that are specific to each layer. We believe that we can deploy a combination of existing tools for collecting all the data we need, so no new monitoring tools will need to be built. The data collection part of this project will concern evaluating different monitoring tools that can collect data from virtual systems of the cloud. 

%A variety of different databases for retaining the data collected from the monitoring tool need to be evaluated based on criteria such as scalability and performance. We will also need to consider the migration of data that has already been collected in a default database to a single database or several databases distributed across the whole cloud.



%\input{../LatexShared/Section1-Subsection1-DataCollectionRetention.tex}
%\input{Sections/Section1-Subsection2-DataVisualization.tex}

%\subsection{Cloud Monitoring Data Transformation and Visualization}
%During this phase, we will extend the platform we built in the previous phase by filtering and transforming the retained data. Then we will provide an API  for efficient queries and an end-user tool that can visualize the status of the cloud as well as user specific utilization of the cloud.  

%The data collected from the cloud is hard to use and there are some challenges for us to filter and transform the data. First, for monitoring the same cloud, we use different monitoring tools for different levels or even layers, which means that we need a mechanism to relate data from different levels or layers. Second, the data we collected from the system is raw, which means that users may not know what does the data represents and the data need to be aggregated based on users’ demands and use cases. For example, the utilization information come from monitoring tools is compute based, we can aggregate the compute utilizations to get utilizations of a cluster. 

%Having a platform that collects and retains data that represents the status of the cloud, however, is not enough. First, as database schema may change or we may have several databases for storing all the information, direct access to database may not be an efficient way. Second, reading documentations and statistics for large set of data is not yet clear to cloud users, especially for end users. Third, exposing the data of the whole platform means risking the security of the cloud and privacy of users. So we plan to provide an API and an end-user visualization tool for showing cloud status and users’ virtual resources. 