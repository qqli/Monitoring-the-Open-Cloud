\subsection{Data Collection and Retention}

% There are various data collection and monitoring tools focusing on different layers of the cloud. Nagios~\cite{nagios,nagiosdoc} is a widely-used enterprise-level open source monitoring tool that can monitor cloud's physical infrastructure and some of its services. Sandoval et al.~\cite{sandoval2012evaluation} analyze several already available monitoring tools, such as Nagios, HypericHQ, Lattice, Zenoss, and indicate that Nagios is the best choice. Sensu~\cite{sensu} is designed as a publish/subscribe based monitoring tool that can deal with some of the problems that Nagios cannot solve. In Nagios, there is a configuration file that needs to be modified and we need to restart Nagios whenever we want to make any configuration modification. However, sensu-clients, which run on remote hosts, can subscribe to server defined checks and can avoid restarting the whole monitoring tool. It also uses RabbitMQ, which is a message-oriented middleware that implements Advanced Message Queueing Protocol (AMQP). Sensu is a monitoring tool that is scalable, extensible and elastic~\cite{Aceto2013}. 
% We plan to evaluate Sensu and Nagios as data collection tools. 

% Since MOC infrastructure relies heavily on OpenStack~\cite{sefraoui2012openstack}, we also plan to investigate monitoring solutions available in OpenStack. Ceilometer~\cite{ceilometer} is OpenStackâ€™s metering solution. It can consume notifications from OpenStack message queue and can poll OpenStack services to get their data. Ceilometer stores its data in MongoDB by default. StackTach~\cite{stacktach} is not directly an OpenStack service, but still an alternative to Ceilometer for metering and billing. It can also consume notifications from OpenStack message queue and store the data to a database. We will also evaluate these two cloud middleware layer monitoring tools in our future studies.

Several research tools have been developed to collect and retain information across all layers of  a cloud~\cite{chaves2011toward,montes2013gmone,povedano2013dargos,alcaraz2015monpaas}.  
The focus of these projects have been on specific end tools for users or administrators of the cloud, while the primary goal of this part of our project is to develop a platform that can be used by a wide variety of tools.   Specific limitations of these tools from a data collection and retention perspective include:  PCMONS~\cite{chaves2011toward}  does not collect information needed to map virtual to physical resources. GMonE~\cite{montes2013gmone} is not appropriate for a general purpose IaaS cloud like the MOC in that it installs agents on each VM and a database for each user.  We are still evaluating what components and architectural elements from DARGOS~\cite{povedano2013dargos} can be used, although there is some concern about the non-scalable database used. 

Based on the fundamentally different goals we are focused on, we believe that we will not be able to use the full cloud monitoring tools mentioned above, but will instead be using a combination of layer specific monitoring tools.  Specific monitoring tools that we are considering include Nagios, HypericHQ, Lattice, Zenoss, Zabbix, and Sensu~\cite{sandoval2012evaluation,Aceto2013}.  From our initial analysis, it seems clear that no one tool has the necessary combination of properties necessary for the project, and we expect to be using a combination of different tools. 

For the virtual/cloud layer, we will evaluate two tools, Ceilometer~\cite{ceilometer} and  StackTach~\cite{stacktach}. While Ceilometer is the default metering tool today with OpenStack there are major concerns about its performance. 